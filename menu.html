<head>
    <link rel="stylesheet" type="text/css" href="mainCSS.css">
    <link rel="stylesheet" type="text/css" href="menu.css">
    <script>
        function init() {
            document.querySelectorAll("[id=OHgroupItem]").forEach(item => {
                item.children[1].classList.add("Hidden");
                item.classList.add("Hidden");
            });
        }

        function toggleGroup(find) {
            // Hide all groups except the one being toggled
            document.querySelectorAll("[id=OHgroupItem]").forEach(item => {
                if (item.getAttribute("name") !== find) {
                    item.children[1].classList.add("Hidden");
                    item.classList.add("Hidden");
                }
            });

            document.querySelectorAll(`[name='${find}']`).forEach(item => {
                item.children[1].classList.remove("Hidden");
                item.classList.remove("Hidden");
            });
        }

        function panelNavigate(action) { 
            console.log("Navigating to " + action); 
        }

        function lookUp(id) { 
            console.log("Looking up " + id); 
        }

        function clicked(element) { 
            const items = document.getElementsByClassName("SectionSelected");
            for (let item of items) {
                if (item !== element && item.classList.contains(element.classList[0])) {
                    item.classList.remove("SectionSelected");
                }
            } 
            element.classList.add("SectionSelected");
        }

        // Toggle the selected state of the Review Orders item
        function selected(element) {
            const items = document.getElementsByClassName("SectionSelected");
            for (let item of items) {
                if (item !== element) {
                    item.classList.remove("SectionSelected");
                }
            }
            element.classList.add("SectionSelected");
        }

        window.onload = function(){
            init();
        };
    </script>
</head>

<html>
    <body >
        <table>
            <tbody>
                <!-- Main Item -->
                <tr id="groupItem" name="Group1">
                    <th class="itemOnList" id="default" 
                        onclick="selected(this); toggleGroup('Group2'); panelNavigate('ORDERCLICK');" 
                        rowspan="1" colspan="3" name="Group1Item">
                        Review Orders
                    </th>
                </tr>

                <!-- Sub Items (Initially Hidden) -->
                <tr id="OHgroupItem" name="Group2">
                    <td></td>
                    <td class="subOnList" id="O1"  
                        onclick="lookUp('E1'); clicked(this);" 
                        rowspan="1" colspan="1" name="ReviewItem"
                        width: 75vw;>
                        New Promotions
                    </td>
                    <td></td>
                </tr>

                <tr id="OHgroupItem" name="Group2">
                    <td></td>
                    <td class="subOnList" id="O2" 
                        onclick="lookUp('E6'); clicked(this);" 
                        rowspan="1" colspan="1" name="ReviewItem">
                        Promotions Ending
                    </td>
                </tr>

                <tr id="OHgroupItem" name="Group2">
                    <td></td>
                    <td class="subOnList" id="O3" 
                        onclick="lookUp('E2'); clicked(this);" 
                        rowspan="1" colspan="1" name="ReviewItem">
                        Exceptions
                    </td>
                </tr>

                <tr id="OHgroupItem" name="Group2">
                    <td></td>
                    <td class="subOnList" id="O4" 
                        onclick="lookUp('E3'); clicked(this);" 
                        rowspan="1" colspan="1" name="ReviewItem">
                        Reference
                    </td>
                </tr>

                <tr id="OHgroupItem" name="Group2">
                    <td></td>
                    <td class="subOnList" id="O5"  
                        onclick="lookUp('E46'); clicked(this);" 
                        rowspan="1" colspan="1" name="ReviewItem">
                        Line Search
                    </td>
                </tr>

                <!-- Main Item -->
                <tr id="groupItem" name="Group3">
                    <th class="itemOnList" id="default" 
                        onclick="selected(this); toggleGroup('Group4'); panelNavigate('ORDERCLICK');" 
                        rowspan="1" colspan="3" name="Group3Item">
                        Ugh
                    </th>
                </tr>
            </tbody>
        </table>
        <!-- Vertical Bars Section -->
        <div class="bar-background">
            <div class="bar bar4"></div>
            <div class="bar bar3"></div>
            <div class="bar bar2"></div>
            <div class="bar nameBottom">& PARTNERS</div>
            <div class="bar nameTop">WAITROSE</div>
            <div class="bar bar1"></div>
        </div>
    </body>
</html>
